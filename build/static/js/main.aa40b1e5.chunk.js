(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{30:function(e,t,n){e.exports={field:"Input_field__Oq4fX",input:"Input_input__HkNJD",invalid:"Input_invalid__1XscM",valid:"Input_valid__2LgTb",label:"Input_label__1v20C",focused:"Input_focused__O0hzF",errMessage:"Input_errMessage__2H-mU"}},40:function(e,t,n){e.exports={tabs_links:"Tabs_tabs_links__hkAVJ",tabs_link:"Tabs_tabs_link__3-kdT",tabs_link_active:"Tabs_tabs_link_active__GWOqJ",tabs_tabs:"Tabs_tabs_tabs__29B1X"}},44:function(e,t,n){e.exports={btn:"Btn_btn__27XBf",btn_start:"Btn_btn_start__okLM1",btn_stop:"Btn_btn_stop__29kdv"}},45:function(e,t,n){e.exports={message:"Messages_message__VzAwu",success:"Messages_success__4IORc",alert:"Messages_alert__NqTLR"}},51:function(e,t,n){e.exports={header:"Header_header__1VCKf",user_name:"Header_user_name__3-sHI"}},52:function(e,t,n){e.exports={table:"HighScoresTable_table___Mvhw",player_row:"HighScoresTable_player_row__3Petv"}},65:function(e,t,n){e.exports={display:"Display_display__19qv3"}},66:function(e,t,n){e.exports={high_score:"HighScore_high_score__3skjl"}},73:function(e,t,n){},77:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(4),s=n(41),c=n.n(s),a=(n(73),n(32)),i=n(16),l=n(17),u=(n(77),n(0)),o=n.n(u),d=n(1),h=n(11),b=n(13),j="CURRENT_USER",m=function(e){return{type:j,user:e}},f={isLogged:!1,currentUser:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.user?Object(b.a)(Object(b.a)({},e),{},{currentUser:t.user,isLogged:!0}):Object(b.a)(Object(b.a)({},e),{},{currentUser:t.user,isLogged:!1});default:return e}},v="ADD_USER",g="REMOVE_USER",O="HIGH_SCORES",x=function(e){return{type:v,user:e}},y=function(){return{type:g}},_={user:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.user?t.user:null;case g:return null;case O:return Object(b.a)(Object(b.a)({},e),{},{game:Object(b.a)(Object(b.a)({},e.game),{},{highScore:t.highScore})});default:return e}},M=n(56),w=n(39),k=n(27),C=Object(M.a)({apiKey:"AIzaSyBiY9tiljK0qg73xYodJFJclRE9uW_aWLc",authDomain:"burunduk-game.firebaseapp.com",projectId:"burunduk-game",storageBucket:"burunduk-game.appspot.com",messagingSenderId:"499062892902",appId:"1:499062892902:web:b542e0b3566cd476a500a7"}),S=Object(w.b)(),T=Object(k.e)();function N(e){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DB user create::::::::::",t.uid,t.email),n=Object(k.b)(T,"users",t.uid),e.next=4,Object(k.f)(n,{id:t.uid,email:t.email,name:t.displayName,game:{highScore:{score:0,level:1,misses:0}}});case 4:return console.log("Document written with ID: ",n.id),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.c)(Object(k.b)(T,"users",t));case 3:return n=e.sent,r=n.data(),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log("user/get-user-fail",e.t0),e.abrupt("return",{error:e.t0,dbUser:null});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(d.a)(o.a.mark((function e(t,n,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.a)(S,t,n);case 3:if(!r){e.next=6;break}return e.next=6,Object(w.d)(S.currentUser,{displayName:r});case 6:return e.next=8,N(S.currentUser);case 8:return s=e.sent,e.abrupt("return",{currentUser:S.currentUser,dbUser:s,error:!1});case 12:return e.prev=12,e.t0=e.catch(0),console.log("user/create-fail",e.t0),e.abrupt("return",{error:e.t0,dbUser:null});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function H(e,t){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.c)(S,t,n);case 3:return console.log("user:::::::",S.currentUser),e.next=6,L(S.currentUser.uid);case 6:return r=e.sent,e.abrupt("return",{currentUser:S.currentUser,dbUser:r,error:!1});case 10:return e.prev=10,e.t0=e.catch(0),console.log("user/sign-fail",e.t0),e.abrupt("return",{error:e.t0,dbUser:null});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function A(){return(A=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(k.b)(T,"users",S.currentUser.uid),e.next=4,Object(k.g)(n,{game:{highScore:{score:t.score,level:t.level,misses:t.misses}}});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log("game/update-failed",e.t0),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(){return(D=Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.d)(Object(k.a)(T,"users"));case 3:return t=e.sent,n=[],t.forEach((function(e){n.push(e.data())})),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),console.log("game/failed-to-get-users",e.t0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var z,F,P,G,J,K,X,q,W,Y,Z,$,Q,ee,te,ne,re=C,se=n(28),ce=n(40),ae=n.n(ce),ie=n(6),le=function(e){var t=e.tabs,n=Object(r.useState)(0),s=Object(h.a)(n,2),c=s[0],a=s[1];return Object(ie.jsxs)("div",{className:"tabs",children:[Object(ie.jsx)("div",{className:ae.a.tabs_links,children:t.map((function(e,t){return Object(ie.jsx)("div",{className:"".concat(ae.a.tabs_link," ").concat(c===t?ae.a.tabs_link_active:""),onClick:function(){return a(t)},children:e.text},e.text)}))}),Object(ie.jsx)("div",{className:ae.a.tabs_tabs,children:t[c].el})]})},ue=n(5),oe=n(57),de=n(58).a.button(z||(z=Object(oe.a)(["\n    border: none;\n    ","\n    ","\n    font-weight: bold;\n    background: ",";\n    color: ",";\n    &:hover {\n        cursor: pointer;\n    }\n"])),(function(e){switch(e.size){case"sm":return"border-radius: 5px;\n                        padding: 3px 10px;\n                ";case"lg":return"border-radius: 10px;\n                        padding: 15px 30px;";default:return"border-radius: 0px;\n                        padding: 0px 0px;"}}),(function(e){return e.disabled?"filter: brightness(0.3);":""}),(function(e){return e.bg||"white"}),(function(e){return e.color||"black"})),he=function(e){return Object(ie.jsx)(de,{onClick:e.onClick,color:e.color,bg:e.bg,size:e.size||"sm",disabled:e.disabled,children:e.children})},be=(n(80),n(30)),je=n.n(be),me=function(e){var t=e.value,n=e.onChange,s=e.name,c=e.label,a=e.type,i=void 0===a?"text":a,l=e.isTouched,u=e.isValid,o=e.errMessage,d=e.noValidate,b=Object(r.useState)(!1),j=Object(h.a)(b,2),m=j[0],f=j[1],p=[];return u&&l&&!d&&p.push(je.a.valid),u||!l||d||p.push(je.a.invalid),(m||t.length)&&p.push(je.a.focused),Object(ie.jsxs)("label",{className:je.a.field,children:[Object(ie.jsx)("span",{className:"".concat(je.a.label," ").concat(p.join(" ")),children:c}),Object(ie.jsx)("input",{className:"".concat(je.a.input," ").concat(p.join(" ")),value:t,name:s,onChange:function(e){return n(e.target.value)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},type:i}),o&&!u&&l&&!d?Object(ie.jsx)("span",{className:je.a.errMessage,children:o}):null]})},fe={player_name:function(e){var t=e.length>2;return[t,t?null:"3 characters min"]},email:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());return[t,t?null:"Invalid Email"]},password:function(e){var t=e.length>5;return[t,t?null:"6 characters min"]}},pe=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(!1),a=Object(h.a)(c,2),i=a[0],l=a[1],u=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(""),n=f.email,r=f.password,e.next=5,H(n.value,r.value);case 5:c=e.sent,(a=c.error)&&a.code&&(i=a.code.replace(/auth\/|-/gi," ").trim(),s(i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=Object(r.useState)({email:{value:"",isTouched:!1,isValid:!1,errMessage:null},password:{value:"",isTouched:!1,isValid:!1,errMessage:null}}),m=Object(h.a)(j,2),f=m[0],p=m[1];function v(e,t){var n=fe[t](e),r=Object(h.a)(n,2),s=r[0],c=r[1];p((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(ue.a)({},t,{value:e,isTouched:e.length,isValid:!!n[t].noValidate||s,errMessage:c,noValidate:n[t].noValidate}))}))}return Object(r.useEffect)((function(){Object.values(f).every((function(e){return!0===e.isValid}))&&l(!0)}),[f]),Object(ie.jsxs)("form",{onSubmit:u,children:[Object(ie.jsx)("div",{className:"error-message",children:n}),Object(ie.jsxs)("fieldset",{children:[Object(ie.jsx)("legend",{children:"Login"}),Object(ie.jsx)(me,{type:"email",name:"email",label:"Email",value:f.email.value,isTouched:f.email.isTouched,isValid:f.email.isValid,errMessage:f.email.errMessage,onChange:function(e){return v(e,"email")}}),Object(ie.jsx)(me,{type:"password",name:"password",label:"Password",value:f.password.value,isTouched:f.password.isTouched,isValid:f.password.isValid,errMessage:f.password.errMessage,onChange:function(e){return v(e,"password")},noValidate:f.password.noValidate}),Object(ie.jsx)("div",{className:"form-field",children:Object(ie.jsx)(he,{color:"white",bg:"green",size:"lg",disabled:!i,children:"Login"})})]})]})},ve=function(e){var t=Object(r.useState)(""),n=Object(h.a)(t,2),s=n[0],c=n[1],a=Object(r.useState)(!1),i=Object(h.a)(a,2),l=i[0],u=i[1],j=Object(r.useState)({player_name:{value:"",isTouched:!1,isValid:!1,errMessage:null},email:{value:"",isTouched:!1,isValid:!1,errMessage:null},password:{value:"",isTouched:!1,isValid:!1,errMessage:null}}),m=Object(h.a)(j,2),f=m[0],p=m[1];Object(r.useEffect)((function(){var e=Object.values(f).every((function(e){return!0===e.isValid}));u(!!e)}),[f]);var v=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,s,a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(""),n=f.email,r=f.password,s=f.player_name,e.next=5,I(n.value,r.value,s.value);case 5:a=e.sent,(i=a.error)&&i.code&&(l=i.code.replace(/auth\/|-/gi," ").trim(),c(l));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e,t){var n=fe[t](e),r=Object(h.a)(n,2),s=r[0],c=r[1];p((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(ue.a)({},t,{value:e,isTouched:e.length,isValid:s,errMessage:c,noValidate:n[t].noValidate}))}))}return Object(ie.jsxs)("form",{onSubmit:v,children:[Object(ie.jsx)("div",{className:"error-message",children:s}),Object(ie.jsxs)("fieldset",{children:[Object(ie.jsx)("legend",{children:"Register"}),Object(ie.jsx)(me,{type:"text",name:"player_name",label:"Player Name",value:f.player_name.value,isTouched:f.player_name.isTouched,isValid:f.player_name.isValid,errMessage:f.player_name.errMessage,onChange:function(e){return g(e,"player_name")}}),Object(ie.jsx)(me,{type:"email",name:"email",label:"Email",value:f.email.value,isTouched:f.email.isTouched,isValid:f.email.isValid,errMessage:f.email.errMessage,onChange:function(e){return g(e,"email")}}),Object(ie.jsx)(me,{type:"password",name:"password",label:"Password",value:f.password.value,isTouched:f.password.isTouched,isValid:f.password.isValid,errMessage:f.password.errMessage,onChange:function(e){return g(e,"password")},noValidate:f.password.noValidate}),Object(ie.jsx)("div",{className:"form-field",children:Object(ie.jsx)(he,{color:"white",bg:"green",size:"lg",disabled:!l,children:"Login"})})]})]})},ge=Object(r.createContext)(null),Oe=Object(l.b)((function(e){return{auth:e.auth,user:e.user}}))((function(e){var t=e.dispatch,n=e.auth,s=e.user,c=e.children,a=Object(r.useState)(!0),l=Object(h.a)(a,2),u=l[0],b=l[1],j=Object(se.b)(),f=[{text:"Login",el:Object(ie.jsx)(pe,{})},{text:"Register",el:Object(ie.jsx)(ve,{})}];return Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("AUTH STATE CHANGED"),!n){e.next=8;break}return e.next=4,L(n.uid);case 4:r=e.sent,t(x(r)),e.next=9;break;case 8:t(y());case 9:t(m(n)),b(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(se.c)(j,(function(t){return e.apply(this,arguments)}))}),[]),u?"...Loading":Object(ie.jsx)(ge.Provider,{value:{auth:n,user:s},children:n.isLogged?c:Object(ie.jsxs)(i.d,{children:[Object(ie.jsx)(i.b,{path:"/login",exact:!0,children:Object(ie.jsx)(le,{tabs:f})}),Object(ie.jsx)(i.a,{from:"/",to:"/login"})]})})})),xe=n(19),ye=n(2),_e=n(3),Ee={1:{holesCount:4,scoreToNext:5},2:{holesCount:9,scoreToNext:15},3:{holesCount:12,scoreToNext:25},4:{holesCount:16,scoreToNext:35},5:{holesCount:20,scoreToNext:50},6:{holesCount:25,scoreToNext:1e4}},Me=n(85),we=n(38),ke=n(63),Ce=n(64),Se=n.n(Ce),Te="STOP_GAME",Ne="START_GAME",Re="LEVEL",Le="SCORE",Ve="MISSES",Ie=function(){return{type:Te}},Be={isGameRun:!1,score:0,level:1,misses:0},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(b.a)(Object(b.a)({},e),{},{isGameRun:!0});case Te:return Object(b.a)(Object(b.a)({},e),{},{isGameRun:!1});case Re:return Object(b.a)(Object(b.a)({},e),{},{level:t.level});case Ve:return Object(b.a)(Object(b.a)({},e),{},{misses:t.misses});case Le:return Object(b.a)(Object(b.a)({},e),{},{score:t.score});default:return e}},Ue="SET_USERS",Ae=[],De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return t.users;default:return e}},ze=Object(we.combineReducers)({game:He,auth:p,user:E,users:De}),Fe=Object(we.createStore)(ze,Object(ke.composeWithDevTools)(Object(we.applyMiddleware)(Se.a))),Pe=function(e){return function(t){(function(e){return A.apply(this,arguments)})(e).then((function(){t({type:O,highScore:e})})).catch((function(e){console.log(e)}))}},Ge=function(){return function(e){return function(){return D.apply(this,arguments)}().then((function(t){e({type:Ue,users:t})}))}},Je=Fe.dispatch,Ke=function(){function e(){Object(ye.a)(this,e),this.isEventsRunning=!1,this.showTimeoutId=null,this.hideTimeoutId=null,this.currentLevel=1,this.killAnimationDuration=500,this.unkillAnimationDelay=200,this.setLevel=null,this.setMtxCallback=null,this.holesCount=Ee[this.currentLevel].holesCount,console.log("game::::::",this)}return Object(_e.a)(e,[{key:"getHolesCount",value:function(){return this.holesCount}},{key:"getLevel",value:function(){return this.currentLevel}},{key:"bindHooks",value:function(e){var t=e.setMtx,n=e.setMessage;this.setMtxCallback=t,this.setMessage=n}},{key:"generateMtx",value:function(e){return new Array(e).fill("").map((function(e,t){return{active:!1,num:t,id:Object(Me.a)(),isKilled:!1,isMissed:!1}}))}},{key:"getTimeRange",value:function(e,t){return Math.floor(e+Math.random()*(t+1-e))}},{key:"generateEvent",value:function(){var e=this.getTimeRange(200,3e3),t=this.getTimeRange(500,4e3);return{showTime:e,stayTime:t,hideTime:e+t,activeHole:Math.round(Math.random()*(this.holesCount-1))}}},{key:"nextLevel",value:function(){var t,n=this;this.currentLevel++,Je((t=this.currentLevel,{type:Re,level:t})),e.checkAndUpdateHighScores(),this.holesCount=Ee[this.currentLevel].holesCount,this.showMessage({text:"Level ".concat(this.currentLevel,"!!!"),status:"success"}),setTimeout((function(){n.hideMessage(),n.setMtxCallback(n.generateMtx(n.holesCount)),n.runEvents()}),1500)}},{key:"sucessState",value:function(e,t){var n=this;this.kill(e.num),Je(function(e){return{type:Le,score:e}}(t)),t>=Ee[this.currentLevel].scoreToNext?setTimeout((function(){n.nextLevel(),n.clearEvents()}),this.unkillAnimationDelay):(this.clearEvents(),setTimeout((function(){n.hide(e.num),n.runEvents(),setTimeout((function(){return n.unkill(e.num)}),n.unkillAnimationDelay)}),this.killAnimationDuration))}},{key:"showMessage",value:function(e){this.setMtxCallback([]),this.setMessage(e)}},{key:"hideMessage",value:function(){this.setMessage({message:"",status:""})}},{key:"dispatchEvent",value:function(e,t){var n=new CustomEvent(e,{detail:{value:t}});document.dispatchEvent(n)}},{key:"missState",value:function(e,t){var n=this;this.miss(e.num),Je(function(e){return{type:Ve,misses:e}}(t)),setTimeout((function(){return n.unMiss(e.num)}),this.unkillAnimationDelay)}},{key:"kill",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"isKilled",!0)}))}},{key:"unkill",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"isKilled",!1)}))}},{key:"hide",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"active",!1)}))}},{key:"show",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"active",!0)}))}},{key:"miss",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"isMissed",!0)}))}},{key:"unMiss",value:function(e){var t=this;this.setMtxCallback((function(n){return t.mtxSetter(n,e,"isMissed",!1)}))}},{key:"mtxSetter",value:function(e,t,n,r){return e[t][n]=r,Object(xe.a)(e)}},{key:"clearEvents",value:function(){clearTimeout(this.showTimeoutId),clearTimeout(this.hideTimeoutId)}},{key:"renderEvent",value:function(e,t){if(console.log("".concat(t?"show":"hide","::::::"),JSON.stringify(e,null,2)),!t||this.isEventsRunning){if(t)return this.unkill(e.activeHole),void this.show(e.activeHole);this.setMtxCallback((function(t){return t[e.activeHole].active=!1,Object(xe.a)(t)})),this.isEventsRunning?this.runEvents():this.clearEvents()}else this.clearEvents()}},{key:"runEvents",value:function(){var e=this;this.isEventsRunning=!0;var t=this.generateEvent();this.showTimeoutId=setTimeout((function(){return e.renderEvent(t,!0)}),t.showTime),this.hideTimeoutId=setTimeout((function(){return e.renderEvent(t,!1)}),t.hideTime)}},{key:"stopEvents",value:function(){this.isEventsRunning=!1}}],[{key:"checkAndUpdateHighScores",value:function(){var e=Fe.getState();if(e.game&&e.user&&e.game.score>e.user.game.highScore.score){var t={level:e.game.level,score:e.game.score,misses:e.game.misses};Je(Pe(t))}}}]),e}(),Xe=null,qe=function(e){var t=e.isRun,n=Object(r.useState)(0),s=Object(h.a)(n,2),c=s[0],a=s[1];return Object(r.useEffect)((function(){t?Xe=setInterval((function(){a((function(e){return e+1}))}),1e3):clearInterval(Xe)}),[t]),Object(ie.jsxs)("div",{className:"timer",children:["Timer: ",c]})},We=n(65),Ye=n.n(We),Ze=Object(l.b)((function(e){return{score:e.game.score,level:e.game.level,misses:e.game.misses,isRun:e.game.isGameRun}}))((function(e){var t=e.score,n=e.isRun,r=e.misses,s=e.level;return Object(ie.jsxs)("div",{className:Ye.a.display,children:[Object(ie.jsx)(qe,{isRun:n}),Object(ie.jsxs)("div",{className:"score",children:["Score: ",t]}),Object(ie.jsxs)("div",{className:"misses",children:["Misses: ",r]}),Object(ie.jsxs)("div",{className:"level",children:["Level: ",s]})]})})),$e=n(44),Qe=n.n($e),et=Object(l.b)((function(e){return{isRun:e.game.isGameRun}}),(function(e){return{startStopHandler:function(t){t?(Ke.checkAndUpdateHighScores(),e(Ie())):e({type:Ne})}}}))((function(e){var t=e.isRun,n=e.startStopHandler;return Object(ie.jsx)("button",{className:"".concat(Qe.a.btn," ").concat(t?Qe.a.btn_stop:Qe.a.btn_start),onClick:function(){return n(t)},children:t?"Stop":"Start"})})),tt=["title","titleId"];function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function st(e,t){var n=e.title,s=e.titleId,c=rt(e,tt);return r.createElement("svg",nt({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":s},c),n?r.createElement("title",{id:s},n):null,r.createElement("path",{style:{fill:"#5B5B5F"},d:"M57.785,179.878c-22.792-28.374-35.036-55.9-38.529-86.625c-3.728-32.85,10.268-62.711,37.44-79.884 c29.345-18.546,67.378-17.747,99.254,2.085c17.246,10.726,33.259,28.405,47.594,52.542L57.785,179.878z"}),r.createElement("path",{style:{fill:"#D37B93"},d:"M168.795,74.255c-9.66-14.177-19.762-24.591-30.118-31.032c-21.141-13.152-45.859-13.999-64.51-2.21 C57.607,51.48,49.436,69.175,51.749,89.563c2.202,19.362,9.008,37.382,21.163,55.712L168.795,74.255z"}),r.createElement("path",{style:{fill:"#434347"},d:"M454.215,179.878c22.792-28.374,35.036-55.9,38.529-86.625c3.728-32.85-10.269-62.711-37.44-79.884 c-29.345-18.546-67.378-17.747-99.254,2.085c-17.246,10.726-33.259,28.405-47.594,52.542L454.215,179.878"}),r.createElement("path",{style:{fill:"#9D5B6E"},d:"M343.204,74.255c9.66-14.177,19.762-24.591,30.118-31.032c21.141-13.152,45.859-13.999,64.51-2.21 c16.56,10.467,24.731,28.163,22.418,48.549c-2.202,19.362-9.008,37.382-21.163,55.712L343.204,74.255"}),r.createElement("path",{style:{fill:"#5B5B5F"},d:"M133.105,81.456c-30.665,16.864-56.589,40.923-77.051,71.506 C10.264,221.405,6.705,299.606,6.705,321.942v10.334l9.334,4.435c31.197,14.824,118.112,59.217,145.277,86.261 c10.669,10.622,19.145,21.618,27.341,32.253c13.262,17.208,25.995,33.717,44.075,41.51 c-15.313-154.378-54.524-306.576-97.686-416.303C134.403,80.778,133.746,81.104,133.105,81.456z"}),r.createElement("path",{style:{fill:"#211915"},d:"M256,52.334c-45.563,0-86.232,9.467-120.953,28.098c43.162,109.726,82.372,261.924,97.686,416.303 c6.876,2.964,14.521,4.674,23.267,4.674c8.747,0,16.391-1.71,23.267-4.674c15.313-154.378,54.524-306.576,97.685-416.303 C342.232,61.801,301.562,52.334,256,52.334"}),r.createElement("path",{style:{fill:"#5B5B5F"},d:"M455.945,152.961c-20.461-30.583-46.384-54.641-77.051-71.506c-0.641-0.352-1.297-0.678-1.943-1.024 c-43.162,109.726-82.371,261.924-97.685,416.303c18.081-7.794,30.814-24.303,44.075-41.51c8.196-10.635,16.671-21.631,27.34-32.253 c27.165-27.043,114.08-71.437,145.277-86.261l9.334-4.435v-10.334C505.295,299.606,501.736,221.406,455.945,152.961"}),r.createElement("path",{style:{fill:"#211915"},d:"M399.938,301.786c0-11.133-8.956-20.156-19.983-20.156c-11.041,0-19.997,9.024-19.997,20.156 c0,11.133,8.956,20.156,19.997,20.156C390.982,321.943,399.938,312.919,399.938,301.786"}),r.createElement("path",{style:{fill:"#D37B93"},d:"M256,512c-12.782,0-24.209-10.042-28.528-14.358c-4.336-4.334-14.423-15.816-14.423-28.79 c0-10.614,5.287-18.684,14.886-22.722c6.399-2.692,14.529-3.79,28.065-3.79c13.535,0,21.666,1.099,28.066,3.79 c9.599,4.039,14.886,12.108,14.886,22.722c0,12.975-10.086,24.455-14.423,28.79C280.209,501.959,268.783,512,256,512"}),r.createElement("path",{style:{fill:"#BDBDBF"},d:"M505.295,321.815c0,0.01,0,0.017,0,0.027C505.295,321.833,505.295,321.823,505.295,321.815  M505.295,321.747c0,0.015,0,0.032,0,0.046C505.295,321.777,505.295,321.762,505.295,321.747 M505.295,321.686 c0,0.016,0,0.036,0,0.052C505.295,321.72,505.295,321.703,505.295,321.686 M505.295,321.628c0,0.005,0,0.013,0,0.019 C505.295,321.641,505.295,321.633,505.295,321.628 M505.294,321.553c0,0.013,0,0.023,0,0.035 C505.294,321.577,505.294,321.565,505.294,321.553 M505.294,321.423c0,0.038,0,0.075,0,0.113 C505.294,321.5,505.294,321.46,505.294,321.423 M505.294,321.355c0,0.013,0,0.026,0,0.039 C505.294,321.381,505.294,321.367,505.294,321.355 M505.294,321.297c0,0.011,0,0.023,0,0.034 C505.294,321.32,505.294,321.309,505.294,321.297 M505.293,321.159c0,0.033,0,0.069,0,0.101 C505.294,321.227,505.293,321.193,505.293,321.159 M505.293,321.032c0,0.01,0,0.021,0,0.031 C505.293,321.054,505.293,321.042,505.293,321.032 M492.677,93.838c-0.002,0.019-0.004,0.039-0.007,0.058 C492.672,93.875,492.674,93.857,492.677,93.838 M492.696,93.669c-0.003,0.024-0.005,0.048-0.009,0.072 C492.691,93.718,492.693,93.693,492.696,93.669 M492.717,93.491c-0.003,0.029-0.007,0.06-0.011,0.089 C492.709,93.55,492.714,93.521,492.717,93.491 M492.744,93.255c-0.007,0.055-0.012,0.109-0.019,0.164 C492.731,93.362,492.738,93.309,492.744,93.255 M257.186,52.336c0.011,0,0.022,0,0.034,0 C257.208,52.336,257.197,52.336,257.186,52.336 M256.924,52.335c0.02,0,0.041,0,0.061,0 C256.964,52.335,256.946,52.335,256.924,52.335 M256.642,52.334c0.036,0,0.07,0,0.106,0 C256.713,52.334,256.677,52.334,256.642,52.334 M256.354,52.334c0.05,0,0.099,0,0.149,0 C256.454,52.334,256.404,52.334,256.354,52.334 M256,52.334L256,52.334c0.084,0,0.171,0,0.254,0 C256.17,52.334,256.084,52.334,256,52.334 M355.623,15.722c-0.007,0.004-0.014,0.009-0.021,0.013 C355.61,15.731,355.615,15.728,355.623,15.722 M355.715,15.664c-0.011,0.007-0.02,0.012-0.031,0.02 C355.695,15.677,355.707,15.67,355.715,15.664 M355.813,15.602c-0.013,0.009-0.026,0.016-0.039,0.025 C355.787,15.62,355.801,15.611,355.813,15.602 M355.914,15.54c-0.016,0.01-0.032,0.02-0.048,0.031 C355.881,15.561,355.897,15.55,355.914,15.54 M408.559,0c-17.779,0-35.972,5.166-52.509,15.455 c-0.031,0.019-0.062,0.039-0.094,0.058c0.032-0.02,0.062-0.038,0.094-0.058C372.587,5.166,390.78,0,408.559,0 c16.49,0,32.624,4.445,46.745,13.37c24.253,15.328,38.008,40.765,38.033,69.413c-0.025-28.648-13.781-54.085-38.033-69.413 C441.183,4.445,425.049,0,408.559,0"}),r.createElement("path",{style:{fill:"#434347"},d:"M379.955,321.943c-11.041,0-19.997-9.025-19.997-20.156c0-11.132,8.956-20.156,19.997-20.156 c11.027,0,19.983,9.023,19.983,20.156C399.938,312.92,390.982,321.943,379.955,321.943 M376.952,80.432L376.952,80.432 c-38.476,97.812-73.81,229.374-91.878,366.144c8.959,4.169,13.876,12.04,13.876,22.275c0,8.085-3.917,15.59-7.917,21.146 c12.232-8.761,22.118-21.553,32.308-34.774c8.196-10.635,16.671-21.631,27.34-32.253c27.165-27.043,114.08-71.437,145.277-86.261 l9.334-4.435v-10.334l0,0c0-0.033,0-0.068,0-0.1c0-0.01,0-0.017,0-0.027c0-0.008,0-0.014,0-0.022c0-0.015,0-0.032,0-0.046 c0-0.002,0-0.005,0-0.009c0-0.016,0-0.036,0-0.052c0-0.013,0-0.026,0-0.039c0-0.005,0-0.013,0-0.019c0-0.013,0-0.026,0-0.039 c0-0.013,0-0.023,0-0.035c0-0.007,0-0.011,0-0.017c0-0.038,0-0.074,0-0.113c0-0.011,0-0.02,0-0.029c0-0.013,0-0.026,0-0.039 c0-0.008,0-0.015,0-0.023c0-0.011,0-0.023,0-0.034c0-0.012,0-0.025,0-0.037c0-0.033,0-0.068,0-0.101c0-0.033,0-0.064,0-0.097 c0-0.01,0-0.021,0-0.031c-0.093-21.943-3.646-90.662-40.991-154.694c0.001-0.001,0.001-0.001,0.002-0.003 c-2.617-4.488-5.399-8.949-8.359-13.374c-3.718-5.557-7.615-10.897-11.689-16.019c-18.348-23.068-40.268-41.686-65.362-55.486 C378.254,81.104,377.597,80.778,376.952,80.432"}),r.createElement("path",{style:{fill:"#9D5B6E"},d:"M256,442.339V512c12.783,0,24.209-10.042,28.529-14.358c1.634-1.633,4.083-4.282,6.503-7.641 c0,0,0.002-0.001,0.002-0.002c4.001-5.557,7.917-13.062,7.917-21.146c0-10.236-4.917-18.106-13.876-22.275 c-0.331-0.154-0.667-0.303-1.009-0.447C277.666,443.438,269.535,442.339,256,442.339"}),r.createElement("path",{style:{fill:"#211915"},d:"M152.042,301.786c0-11.133-8.956-20.156-19.983-20.156c-11.041,0-19.997,9.024-19.997,20.156 c0,11.133,8.956,20.156,19.997,20.156C143.086,321.942,152.042,312.919,152.042,301.786z"}),F||(F=r.createElement("g",null)),P||(P=r.createElement("g",null)),G||(G=r.createElement("g",null)),J||(J=r.createElement("g",null)),K||(K=r.createElement("g",null)),X||(X=r.createElement("g",null)),q||(q=r.createElement("g",null)),W||(W=r.createElement("g",null)),Y||(Y=r.createElement("g",null)),Z||(Z=r.createElement("g",null)),$||($=r.createElement("g",null)),Q||(Q=r.createElement("g",null)),ee||(ee=r.createElement("g",null)),te||(te=r.createElement("g",null)),ne||(ne=r.createElement("g",null)))}var ct,at,it,lt,ut,ot,dt,ht,bt,jt,mt,ft,pt,vt,gt,Ot=r.forwardRef(st),xt=(n.p,["title","titleId"]);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Et(e,t){var n=e.title,s=e.titleId,c=_t(e,xt);return r.createElement("svg",yt({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 455.111 455.111",style:{enableBackground:"new 0 0 455.111 455.111"},xmlSpace:"preserve",ref:t,"aria-labelledby":s},c),n?r.createElement("title",{id:s},n):null,r.createElement("circle",{style:{fill:"#E24C4B"},cx:227.556,cy:227.556,r:227.556}),r.createElement("path",{style:{fill:"#D1403F"},d:"M455.111,227.556c0,125.156-102.4,227.556-227.556,227.556c-72.533,0-136.533-32.711-177.778-85.333 c38.4,31.289,88.178,49.778,142.222,49.778c125.156,0,227.556-102.4,227.556-227.556c0-54.044-18.489-103.822-49.778-142.222 C422.4,91.022,455.111,155.022,455.111,227.556z"}),r.createElement("path",{style:{fill:"#FFFFFF"},d:"M331.378,331.378c-8.533,8.533-22.756,8.533-31.289,0l-72.533-72.533l-72.533,72.533 c-8.533,8.533-22.756,8.533-31.289,0c-8.533-8.533-8.533-22.756,0-31.289l72.533-72.533l-72.533-72.533 c-8.533-8.533-8.533-22.756,0-31.289c8.533-8.533,22.756-8.533,31.289,0l72.533,72.533l72.533-72.533 c8.533-8.533,22.756-8.533,31.289,0c8.533,8.533,8.533,22.756,0,31.289l-72.533,72.533l72.533,72.533 C339.911,308.622,339.911,322.844,331.378,331.378z"}),ct||(ct=r.createElement("g",null)),at||(at=r.createElement("g",null)),it||(it=r.createElement("g",null)),lt||(lt=r.createElement("g",null)),ut||(ut=r.createElement("g",null)),ot||(ot=r.createElement("g",null)),dt||(dt=r.createElement("g",null)),ht||(ht=r.createElement("g",null)),bt||(bt=r.createElement("g",null)),jt||(jt=r.createElement("g",null)),mt||(mt=r.createElement("g",null)),ft||(ft=r.createElement("g",null)),pt||(pt=r.createElement("g",null)),vt||(vt=r.createElement("g",null)),gt||(gt=r.createElement("g",null)))}var Mt=r.forwardRef(Et),wt=(n.p,n(82),function(e){var t=e.item,n=e.handler,r=[];return t.isKilled&&r.push("killed"),t.active&&r.push("active"),t.isMissed&&r.push("missed"),Object(ie.jsx)("div",{className:"hole_block",children:Object(ie.jsxs)("div",{className:"hole_wrap ".concat(r.join(" ")),children:[t.isMissed?Object(ie.jsx)(Mt,{className:"miss_icon"}):null,Object(ie.jsx)("div",{className:"hole ".concat(r.join(" ")),onClick:n,children:Object(ie.jsx)(Ot,{className:"badger_img ".concat(r.join(" "))})})]})})}),kt=(n(83),function(e){var t=e.holesCount,n=e.mtx,r=e.holeClickHandler;return Object(ie.jsx)("div",{className:"field cols-".concat(t),children:n.map((function(e){return Object(ie.jsx)(wt,{item:e,handler:function(){return r(e)}},"".concat(e.id))}))})}),Ct=n(45),St=n.n(Ct),Tt=function(e){var t=e.message;if(!t.text&&!t.status)return null;var n=t.text&&t.text.length>0&&t.status;return console.log(St.a),n?Object(ie.jsx)("h1",{className:"".concat(St.a.message," ").concat(St.a[t.status]),children:t.text}):null},Nt=new Ke;var Rt=Object(l.b)((function(e){return{isRun:e.game.isGameRun,score:e.game.score,misses:e.game.misses,user:e.auth.currentUser}}))((function(e){var t=e.isRun,n=e.score,s=e.misses,c=Object(r.useState)(Nt.generateMtx(Nt.getHolesCount())),a=Object(h.a)(c,2),i=a[0],l=a[1],u=Object(r.useState)({text:"",status:""}),o=Object(h.a)(u,2),d=o[0],b=o[1];return Object(r.useEffect)((function(){return Nt.bindHooks({setMtx:l,setMessage:b}),Nt.stopEvents.bind(Nt)}),[]),Object(r.useEffect)((function(){t?Nt.runEvents(l):(l((function(e){return Nt.generateMtx(Nt.getHolesCount())})),Nt.stopEvents())}),[t]),Object(ie.jsxs)("div",{className:"app ".concat(t?"running":""," "),children:[Object(ie.jsx)(Ze,{}),Object(ie.jsx)(kt,{holesCount:Nt.getHolesCount(),mtx:i,holeClickHandler:function(e){e.active?Nt.sucessState(e,n+1):!e.active&&t&&Nt.missState(e,s+1)}}),Object(ie.jsx)(Tt,{message:d}),Object(ie.jsx)(et,{})]})})),Lt=n(51),Vt=n.n(Lt),It=Object(l.b)()((function(e){var t=e.dispatch,n="/"!==Object(i.g)().pathname,s=Object(r.useContext)(ge),c=Object(se.b)(),l=s.user?s.user.name||s.user.email:null;return Object(ie.jsxs)("header",{className:Vt.a.header,children:[n?Object(ie.jsx)(a.b,{to:"/",children:"\u2b05 Back"}):Object(ie.jsx)("span",{}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:Vt.a.user_name,children:l}),Object(ie.jsx)(he,{onClick:function(){Ke.checkAndUpdateHighScores(),t(Ie()),Object(se.e)(c)},children:"Sign Out"})]})]})})),Bt=n(66),Ht=n.n(Bt),Ut=function(e){var t=e.results;if(!t||t.score<=1)return null;var n=Object.keys(t);return Object(ie.jsxs)("div",{className:Ht.a.high_score,children:[Object(ie.jsx)("h3",{children:"Your Best Score:"}),Object(ie.jsx)("ul",{children:n.map((function(e){return Object(ie.jsxs)("li",{children:[Object(ie.jsxs)("span",{children:[e,": "]}),Object(ie.jsx)("span",{children:t[e]})]},e)}))})]})},At=n(52),Dt=n.n(At),zt={score:0};var Ft=function(){var e=Object(l.d)((function(e){return e.users})),t=Object(l.c)(),n=function(){var e=Object(l.d)((function(e){return e.user}));if(!e)return!1;var t=e.game.highScore;return t.score!==zt.score&&(zt=t,!0)}();Object(r.useEffect)((function(){e.length&&!n||(console.log("Fetch users"),Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ge());case 2:case"end":return e.stop()}}),e)})))())}),[]);var s=Object(r.useMemo)((function(){return console.log("USERS",e),e.sort((function(e,t){return t.game.highScore.score-e.game.highScore.score}))}),[e]);return console.log("RENDER:::::::"),Object(ie.jsxs)("div",{className:"score-table",children:[Object(ie.jsx)("h3",{style:{textAlign:"center"},children:"Top Players:"}),s.length?Object(ie.jsx)("div",{className:Dt.a.table,children:s.map((function(e,t){return Object(ie.jsxs)("div",{className:Dt.a.player_row,children:[Object(ie.jsxs)("div",{children:[Object(ie.jsxs)("div",{children:[0===t?"\ud83c\udfc6":null," ",t+1," "]}),Object(ie.jsxs)("strong",{children:["Player: ",e.name||e.email]})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"Level: "}),Object(ie.jsx)("span",{children:e.game.highScore.level})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"Score: "}),Object(ie.jsx)("span",{children:e.game.highScore.score})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:"Misses: "}),Object(ie.jsx)("span",{children:e.game.highScore.misses})]})]},e.id)}))}):"Loading..."]})},Pt=function(){var e,t=Object(r.useContext)(ge);return t.user&&t.user.game&&(e=t.user.game.highScore),Object(ie.jsxs)("div",{className:"page",children:[Object(ie.jsx)(Ut,{results:e}),Object(ie.jsx)(a.b,{to:"/game",style:{color:"white",textAlign:"center"},children:Object(ie.jsx)(he,{size:"lg",bg:"green",color:"white",children:"PLAY"})}),Object(ie.jsx)(Ft,{})]})};var Gt=Object(l.b)((function(e){return{isGameRun:e.game.isGameRun}}))((function(e){var t=e.isGameRun;return Object(ie.jsx)(a.a,{basename:"/burunduk-game/build",children:Object(ie.jsxs)(Oe,{children:[t?null:Object(ie.jsx)(It,{}),Object(ie.jsxs)(i.d,{children:[Object(ie.jsx)(i.b,{path:"/",exact:!0,children:Object(ie.jsx)(Pt,{})}),Object(ie.jsx)(i.b,{path:"/game",children:Object(ie.jsx)(Rt,{})}),Object(ie.jsx)(i.a,{from:"/",to:"/"})]})]})})}));console.log("firebase",re),window.store=Fe,c.a.render(Object(ie.jsx)(l.a,{store:Fe,children:Object(ie.jsx)(Gt,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.aa40b1e5.chunk.js.map